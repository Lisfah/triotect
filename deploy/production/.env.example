# TrioTect Production Environment Variables
# Copy from deploy/local/.env.example and fill in ALL values before deploying.
# NEVER commit this file to version control.

# ── Domain ────────────────────────────────────────────────────────────────────
DOMAIN=cafeteria.iut.edu.bd
CERTBOT_EMAIL=admin@iut.edu.bd

# ── Container Registry ─────────────────────────────────────────────────────────
REGISTRY=ghcr.io
IMAGE_TAG=latest

# ── JWT ───────────────────────────────────────────────────────────────────────
JWT_SECRET_KEY=GENERATE_WITH__openssl_rand_-hex_64
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# ── Databases ─────────────────────────────────────────────────────────────────
IDENTITY_DB_NAME=identity_db
IDENTITY_DB_USER=identity_user
IDENTITY_DB_PASSWORD=STRONG_RANDOM_PASSWORD_HERE

STOCK_DB_NAME=stock_db
STOCK_DB_USER=stock_user
STOCK_DB_PASSWORD=STRONG_RANDOM_PASSWORD_HERE

KITCHEN_DB_NAME=kitchen_db
KITCHEN_DB_USER=kitchen_user
KITCHEN_DB_PASSWORD=STRONG_RANDOM_PASSWORD_HERE

# ── Redis ─────────────────────────────────────────────────────────────────────
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=STRONG_REDIS_PASSWORD_HERE

# ── Rate Limiting ─────────────────────────────────────────────────────────────
RATE_LIMIT_MAX_ATTEMPTS=3
RATE_LIMIT_WINDOW_SECONDS=60

# ── Optimistic Locking ─────────────────────────────────────────────────────────
OPT_LOCK_MAX_RETRIES=5
OPT_LOCK_BASE_DELAY_MS=50
OPT_LOCK_MAX_DELAY_MS=1000
OPT_LOCK_JITTER_MS=50

# ── Kitchen ───────────────────────────────────────────────────────────────────
KITCHEN_MIN_PREP_SECONDS=3
KITCHEN_MAX_PREP_SECONDS=7

# ── Cache ─────────────────────────────────────────────────────────────────────
STOCK_CACHE_TTL_SECONDS=10
IDEMPOTENCY_KEY_TTL_SECONDS=86400

# ── Grafana ───────────────────────────────────────────────────────────────────
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=STRONG_GRAFANA_PASSWORD_HERE

# ── Feature Flags ─────────────────────────────────────────────────────────────
DEBUG=false
METRICS_ENABLED=true
HEALTH_CHECK_TIMEOUT=5.0
